meta {
  name: Register OIDC Provider
  type: http
  seq: 4
}

post {
  url: http://localhost:8080/api/admin/provider/register/oidc
  body: json
  auth: inherit
}

headers {
  Authorization: Bearer eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJtYW9tYW8iLCJwcm9maWxlIjp7ImxpbmtlZEFjY291bnRzIjoiIiwiYXZhdGFyVXJsIjoiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXZhdGFycy8yNTg2Mzg3OTk1OTUxMTA0MDAvMGU5NzQyZDY4MmNkMWFmNmY3ZDU2OTNkNTMyZGM5ODMud2VicD9zaXplPTEwMjQmZm9ybWF0PXdlYnAiLCJkaXNwbGF5TmFtZSI6Ik1hb01hbyIsInVzZXJJZCI6ImYxYzQwMzQxLTRlNzItNGNlNS05Zjg2LWI4ZGU1NWFhNGM2ZCJ9LCJyb2xlcyI6W3siYXV0aG9yaXR5IjoiUk9MRV9VU0VSIn1dLCJpYXQiOjE3NDg0NTU4MTUsImV4cCI6MTc0ODU0MjIxNX0.eVhQyvvgugKA7IkUqYulRzadhwSIC5F8jD4rl1GnrhFjD-5OYAjmbZy_tRRLITqXDN_2BU7K4eL81AftdlfOPB0TyH-hAWwTnHIY_H5hZ6SEx6kKQAqE5Q3yOPEfxQFF8OijcQitgzp5_FT_vjJn17-banq2e-m5aa11d7VqaPGO3EMlYSA4KH0t0fOgb9GMv559INXeFz1n_xoc7Th-2wEqV7mCtnYNoLD0OhyjLWs0ZgSHMR4ndYiBKp1WYFbsTGlOoRmvQWOfQiYe4TVVy8BCQ7Dw9tyDlAZagA6CO9g_njzvK7Vc7mtwu4MnKDQvp_NGM_1z8wtr7I-YhKnqSQ
}

body:json {
  {
    "metadata": {
      "type": "OIDC",
      "displayName": "Authentik",
      "logoUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/svg/authentik.svg",
      "displayOrder": 1,
      "capabilityLevel": "USER_SOURCE",
      "isEnabled": true
    },
    "clientId": "t6NFzcE9QA2Q5WnPxyZzzdL7DkFKWgKWQBlrYxH3",
    "clientSecret": "3ZIz43nyzLPf5jmFe7yj0uHqccaiW4UN7UQcmo6BFfIV1G1C3NDUGz4Cqmk0lQN406AiGwN4mlMmNJUEq7avz95dUqgIyxP9UJLsLScgTl3sanzNVoaIwlGkr8TLSeS0",
    "issuerUri": "https://auth.maomaocloud.net/application/o/maomaoworld/",
    "redirectUri": "http://192.168.178.3:8080/api/auth/oidc/callback",
    "authorizationUri": "https://auth.maomaocloud.net/application/o/authorize/",
    "tokenUri": "https://auth.maomaocloud.net/application/o/token/",
    "userInfoUri": "https://auth.maomaocloud.net/application/o/userinfo/",
    "jwksUri": "https://auth.maomaocloud.net/application/o/maomaoworld/jwks/",
    "logoutUri": "https://auth.maomaocloud.net/application/o/maomaoworld/end-session/"
  }
}
